(()=>{"use strict";const e=document.querySelector("[data-projects]"),t=document.querySelector("[data-to-do]"),s=document.querySelector("[data-description]"),i=document.getElementById("add_task"),a=document.getElementById("button_delete"),d=document.getElementById("button_update"),n="projects",o="selectedProjectId1",l="selectedTaskId1",c=JSON.parse(localStorage.getItem(n))||[{id:Date.now().toString(),name:"Default Project",todos:[]}],r=()=>{t.innerHTML="",s.innerHTML="",a.classList.remove("vis"),a.classList.add("invis"),d.classList.remove("vis"),d.classList.add("invis");const e=localStorage.getItem(o),i=c.find((t=>t.id===e));t.innerHTML=`Project Name:-${i.name}`,i.todos.forEach((e=>{const n=document.createElement("li");n.dataset.taskId=e.id,n.innerText=e.name,n.onclick=()=>{((e,t)=>{const i=e.id;localStorage.setItem(l,i),(e=>{s.innerHTML="";const t=localStorage.getItem(l),i=e.todos.find((e=>e.id===t));s.innerHTML=`Name:- ${i.name} <br> Description:-${i.desc}\n          <br> Priority:- ${i.prior} <br> Date:- ${i.date} <br> note:- ${i.note} <br>\n           `,a.classList.remove("invis"),a.classList.add("vis"),d.classList.remove("invis"),d.classList.add("vis")})(t)})(e,i)},t.appendChild(n)}))},v=()=>{e.innerHTML="",s.innerHTML="",a.classList.remove("vis"),a.classList.add("invis"),d.classList.remove("vis"),d.classList.add("invis"),c.forEach((t=>{const s=document.createElement("li");s.dataset.projectId=t.id,s.innerText=t.name,s.onclick=()=>{(e=>{i.classList.remove("invis"),i.classList.add("vis");const t=e.id;localStorage.setItem(o,t),r()})(t)},e.appendChild(s)}))},m=()=>{localStorage.setItem(n,JSON.stringify(c))},u=document.querySelector("[data-description]"),L=document.getElementById("project_form_body"),g=document.getElementById("task_form_body"),p=document.querySelector("[data-new-project-input]"),S=document.querySelector("[data-new-todo-title-input]"),I=document.querySelector("[data-new-todo-desc-input]"),y=document.querySelector("[data-new-todo-prior-input]"),f=document.querySelector("[data-new-todo-date-input]"),E=document.querySelector("[data-new-todo-time-input]"),b=document.querySelector("[data-new-todo-note-input]"),_=document.getElementById("add_project"),k=document.getElementById("add_task"),q=document.getElementById("project_form"),B=document.getElementById("task_form");L.classList.add("invis"),g.classList.add("invis"),k.classList.add("invis");const T=document.getElementById("button_delete"),j=document.getElementById("button_update");T.classList.add("invis"),j.classList.add("invis"),_.addEventListener("click",(()=>{L.classList.remove("invis"),L.classList.add("vis")})),k.addEventListener("click",(()=>{g.classList.remove("invis"),g.classList.add("vis")})),q.addEventListener("submit",(e=>{e.preventDefault(),L.classList.remove("vis"),L.classList.add("invis");const t=p.value;if(null==t||""===t)return;const s=(i=t,{id:Date.now().toString(),name:i,todos:[]});var i;p.value=null,c.push(s),m(),v()})),B.addEventListener("submit",(e=>{e.preventDefault(),k.classList.remove("invis"),k.classList.add("vis"),_.classList.remove("invis"),_.classList.add("vis");const t=S.value,s=I.value,i=y.value,a=f.value,d=E.value,n=b.value;if(null==t||""===t)return;const l=(v=t,u=s,L=i,p=a,q=d,B=n,{id:Date.now().toString(),name:v,desc:u,prior:L,date:p,time:q,note:B,complete:!1});var v,u,L,p,q,B;const T=localStorage.getItem(o);c.find((e=>e.id===T)).todos.push(l),S.value=null,I.value=null,f.value=null,E.value=null,b.value=null,g.classList.remove("vis"),g.classList.add("invis"),m(),r(localStorage.getItem(o))})),T.addEventListener("click",(()=>{const e=localStorage.getItem(o),t=c.find((t=>t.id===e)),s=localStorage.getItem(l),i=t.todos.find((e=>e.id===s)),a=t.todos.indexOf(i);t.todos.splice(a,1),m(),r()})),j.addEventListener("click",(()=>{const e=localStorage.getItem(o),t=c.find((t=>t.id===e)),s=localStorage.getItem(l),i=t.todos.find((e=>e.id===s));u.innerHTML="",T.classList.remove("vis"),T.classList.add("invis"),j.classList.remove("vis"),j.classList.add("invis"),g.classList.remove("invis"),g.classList.add("vis"),S.value=i.name,I.value=i.desc,y.value=i.prior,f.value=i.date,E.value=i.time,b.value=i.note;const a=t.todos.indexOf(i);t.todos.splice(a,1),k.classList.remove("vis"),k.classList.add("invis"),_.classList.remove("vis"),_.classList.add("invis"),m()})),v()})();