(()=>{"use strict";let e=1,t=1;const i=document.querySelector("[data-projects]"),n=document.querySelector("[data-to-do]"),d=document.querySelector("[data-description]"),o=document.getElementById("project_form_body"),l=document.getElementById("task_form_body"),s=document.querySelector("[data-new-project-input]"),a=document.querySelector("[data-new-todo-title-input]"),r=document.querySelector("[data-new-todo-desc-input]"),c=document.querySelector("[data-new-todo-prior-input]"),u=document.querySelector("[data-new-todo-date-input]"),y=document.querySelector("[data-new-todo-time-input]"),v=document.querySelector("[data-new-todo-note-input]"),m=document.getElementById("add_project"),b=document.getElementById("add_task"),p=document.getElementById("project_form"),f=document.getElementById("task_form"),E=document.getElementById("button_delete"),h=document.getElementById("button_update"),S=JSON.parse(localStorage.getItem("projects"))||[{id:Date.now().toString(),name:"Default Project",todos:[]}];const L=e=>{n.innerHTML="",d.innerHTML="",E.style.visibility="hidden",h.style.visibility="hidden";const i=S.find((t=>t.id===e));n.innerHTML=`Project Name:-${i.name}`,i.todos.forEach((e=>{const o=document.createElement("li");o.dataset.taskId=e.id,o.innerText=e.name,o.onclick=()=>{t=function(e,t){const i=e.id;return((e,t)=>{d.innerHTML="";const i=t.todos.find((t=>t.id===e));d.innerHTML=`Name:- ${i.name} <br> Description:-${i.desc}\n        <br> Priority:- ${i.prior} <br> Date:- ${i.date} <br> note:- ${i.note} <br>\n         `,E.style.visibility="visible",h.style.visibility="visible"})(i,t),i}(e,i)},n.appendChild(o)}))};m.addEventListener("click",(()=>{o.style.visibility="visible"})),b.addEventListener("click",(()=>{l.style.visibility="visible"})),p.addEventListener("submit",(t=>{t.preventDefault(),o.style.visibility="hidden";const n=s.value;if(null==n||""===n)return;const l=(a=n,{id:Date.now().toString(),name:a,todos:[]});var a;s.value=null,S.push(l),i.innerHTML="",d.innerHTML="",E.style.visibility="hidden",h.style.visibility="hidden",S.forEach((t=>{const n=document.createElement("li");n.dataset.projectId=t.id,n.innerText=t.name,n.onclick=()=>{e=function(e){b.style.visibility="visible";const t=e.id;return L(t),t}(t)},i.appendChild(n)}))})),f.addEventListener("submit",(t=>{t.preventDefault(),b.style.visibility="visible",m.style.visibility="visible";const i=a.value,n=r.value,d=c.value,o=u.value,s=y.value,p=v.value;if(null==i||""===i)return;const f=(E=i,h=n,g=d,I=o,k=s,q=p,{id:Date.now().toString(),name:E,desc:h,prior:g,date:I,time:k,note:q,complete:!1});var E,h,g,I,k,q;S.find((t=>t.id===e)).todos.push(f),a.value=null,r.value=null,u.value=null,y.value=null,v.value=null,l.style.visibility="hidden",L(e)})),E.addEventListener("click",(()=>{const i=S.find((t=>t.id===e)),n=i.todos.find((e=>e.id===t)),d=i.todos.indexOf(n);i.todos.splice(d,1),L(e)})),h.addEventListener("click",(()=>{const i=S.find((t=>t.id===e)),n=i.todos.find((e=>e.id===t));d.innerHTML="",E.style.visibility="hidden",h.style.visibility="hidden",l.style.visibility="visible",a.value=n.name,r.value=n.desc,c.value=n.prior,u.value=n.date,y.value=n.time,v.value=n.note;const o=i.todos.indexOf(n);i.todos.splice(o,1),b.style.visibility="hidden",m.style.visibility="hidden"}))})();